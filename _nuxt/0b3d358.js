(window.webpackJsonp=window.webpackJsonp||[]).push([[29,4,5,17,18],{270:function(e,t,r){"use strict";r.r(t);var n={props:{title:{type:String,required:!0},text:{type:String,required:!1,default:void 0}}},o=r(10),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("article",{staticClass:"material-container"},[t("div",{staticClass:"p-3 bg-gradient-to-r from-primary-400 to-accent-400"},[t("div",{staticClass:"text-center text-black"},[t("h1",{staticClass:"text-lg font-semibold tracking-wide"},[e._v(e._s(e.title))]),e._v(" "),e.text?t("p",[e._v(e._s(e.text))]):e._e()])])])}),[],!1,null,null,null);t.default=component.exports},271:function(e,t,r){e.exports={}},273:function(e,t,r){"use strict";r(271)},276:function(e,t,r){var n=r(6),o=r(277);n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},277:function(e,t,r){var n=r(9).parseInt,o=r(188).trim,c=r(189),l=/^[-+]?0[xX]/;e.exports=8!==n(c+"08")||22!==n(c+"0x16")?function(e,t){var r=o(String(e),3);return n(r,t>>>0||(l.test(r)?16:10))}:n},280:function(e,t,r){"use strict";r.r(t);r(13),r(12),r(11),r(22),r(23);var n=r(3),o=r(4),c=(r(26),r(186),r(276),r(5)),l={methods:{keyboardPageHandler:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=event.keyCode,t.next=39===t.t0?3:37===t.t0?7:11;break;case 3:return console.debug("Loading next page via keyboard action."),t.next=6,e.getNextPage();case 6:case 10:return t.abrupt("break",11);case 7:return console.debug("Loading previous page via keyboard action."),t.next=10,e.getPrevPage();case 11:case"end":return t.stop()}}),t)})))()}},mounted:function(){document.addEventListener("keyup",this.keyboardPageHandler)},destroyed:function(){document.removeEventListener("keyup",this.keyboardPageHandler)}};function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var f={directives:{Intersect:r(274).a},mixins:[l],props:{currentPage:{type:Number,required:!0},minimumPage:{type:Number,required:!0},forceNormalControls:{type:Boolean,default:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)("user",["getUserSettings"])),methods:{getNextPage:function(){this.setPage(this.currentPage+1)},getPrevPage:function(){this.setPage(this.currentPage-1)},setSpecificPage:function(){var e=Number.parseInt(prompt("What page do you want to go to?"),10);isNaN(e)?alert("Wrong input, only numbers please."):this.setPage(e)},isBelowMinimumPage:function(e){return e<this.minimumPage},setPage:function(e){this.isBelowMinimumPage(e)||this.$emit("setPage",e)},InfiniteLoadHandler:function(e,t){var r=this,o="data-is-visible";e&&e.length&&e.forEach((function(e){!e.isIntersecting||e.intersectionRatio<1?e.target.getAttribute(o)&&e.target.removeAttribute(o):(e.target.setAttribute(o,!0),setTimeout(Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.target.getAttribute(o)){t.next=3;break}return t.abrupt("return");case 3:return console.debug("Loading more posts..."),t.next=6,r.getNextPage();case 6:case"end":return t.stop()}}),t)}))),1500))}))}}},v=f,h=r(10),component=Object(h.a)(v,(function(){var e=this,t=e._self._c;return t("div",[!e.getUserSettings.infiniteLoad.value||e.forceNormalControls?[t("div",{class:{"fixed bottom-0 inset-x-0 z-10 max-w-3xl p-2 mx-auto sm:p-4 lg:p-6":e.getUserSettings.hoverControls.value}},[t("div",{staticClass:"flex justify-around p-2 text-center material-container"},[t("button",{staticClass:"link",attrs:{"aria-label":"Load previous page",title:"Load previous page",type:"button"},on:{click:e.getPrevPage}},[t("span",{staticClass:"text-white"},[e._v("←")]),e._v(" Prev\n        ")]),e._v(" "),t("button",{staticClass:"link",attrs:{"aria-label":"Load specific page",title:"Load specific page",type:"button"},on:{click:e.setSpecificPage}},[e._v("\n          "+e._s(e.currentPage)+"\n        ")]),e._v(" "),t("button",{staticClass:"link",attrs:{"aria-label":"Load next page",title:"Load next page",type:"button"},on:{click:e.getNextPage}},[e._v("\n          Next "),t("span",{staticClass:"text-white"},[e._v("→")])])])]),e._v(" "),e.getUserSettings.hoverControls.value?[t("div",{staticClass:"mt-6"},[e._v(" ")])]:e._e()]:[t("div",{directives:[{name:"intersect",rawName:"v-intersect",value:{handler:e.InfiniteLoadHandler,options:{threshold:[0,.25,.5,.75,1]}},expression:"{\n        handler: InfiniteLoadHandler,\n        options: {\n          threshold: [0, 0.25, 0.5, 0.75, 1.0],\n        },\n      }"}],staticClass:"py-12 mx-auto",on:{click:e.InfiniteLoadHandler}},[t("p",{staticClass:"text-center text-gray-300 animate-pulse"},[e._v("\n        Stay here to load more posts...\n      ")])])]],2)}),[],!1,null,null,null);t.default=component.exports},281:function(e,t,r){"use strict";r.r(t);r(13),r(12),r(11),r(22),r(23);var n=r(4),o=(r(186),r(134)),c=r(5);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"SearchToggler",components:{SearchIcon:o.j},props:{tagCount:{type:Number,required:!0}},methods:d(d({},Object(c.b)("navigation",["sideNavNavigationManager","searchNavigationManager"])),{},{toggleSearch:function(){this.searchNavigationManager({operation:"toggle"})}})},v=r(10),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;return t("button",{staticClass:"relative flex items-center justify-center w-10 h-10 p-3 border-0 rounded-full md:w-12 md:h-12 bg-gradient-to-t from-primary-400 to-accent-400 focus:focus-util shadow",attrs:{"aria-label":"Toggle the search menu",title:"Search",type:"menu"},on:{click:e.toggleSearch}},[t("SearchIcon",{staticClass:"icon"}),e._v(" "),e.tagCount>0?[t("div",{staticClass:"absolute -top-2 -right-2"},[t("p",{staticClass:"text-gray-200 text-sm font-medium bg-darkGray-700 border-[0.15rem] border-accent-500 rounded-full px-1.5"},[e._v("\n        "+e._s(e.tagCount)+"\n\n        "),t("span",{staticClass:"sr-only"},[e._v("\n          tags active\n        ")])])])]:e._e()],2)}),[],!1,null,null,null);t.default=component.exports},282:function(e,t,r){"use strict";r.r(t);r(13),r(12),r(11),r(22),r(23);var n=r(4),o=r(5);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var l={computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.c)("navigation",["isSearchActive"]))},d=l,f=(r(273),r(10)),component=Object(f.a)(d,(function(){var e=this;return(0,e._self._c)("transition",{attrs:{name:"search"}},[e.isSearchActive?e._t("default"):e._e()],2)}),[],!1,null,null,null);t.default=component.exports},283:function(e,t,r){"use strict";r.r(t);r(20);var n=r(134),o={components:{ChevronDownIcon:n.b,CloudIcon:n.d},props:{activeDomain:{type:String,required:!0},domainGroupList:{type:Array,required:!0}},methods:{emitDomainChange:function(e){if(e.target.value){var t=e.target.value;this.$emit("domainChange",t)}else console.debug("No domain selected")}}},c=r(10),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative flex items-center justify-center gap-2 rounded-full material-container focus-within:focus-util"},[t("div",{staticClass:"inline-flex items-center pl-2",attrs:{for:"domain-selector"}},[t("CloudIcon",{staticClass:"w-4 h-4 icon text-primary-400"})],1),e._v(" "),t("select",{staticClass:"inline-flex items-center font-light outline-none appearance-none text-primary-400 bg-darkGray-300",attrs:{"aria-label":"Change the domain where the content is pulled from"},on:{change:e.emitDomainChange}},[e._l(e.domainGroupList,(function(r){return[t("optgroup",{key:r.name,attrs:{label:r.name}},[e._l(r.domains,(function(r){return[t("option",{key:r,attrs:{"aria-label":"Change domain to "+r},domProps:{value:r,selected:e.activeDomain===r}},[e._v("\n            "+e._s(r)+"\n          ")])]}))],2)]}))],2),e._v(" "),t("div",{staticClass:"inline-flex items-center pr-2",attrs:{for:"domain-selector"}},[t("ChevronDownIcon",{staticClass:"w-4 h-4 icon"})],1)])}),[],!1,null,null,null);t.default=component.exports},311:function(e,t,r){"use strict";r.r(t);r(12),r(22),r(23);var n=r(37),o=r(4),c=(r(43),r(190),r(33),r(17),r(34),r(11),r(13),r(62),r(54),r(20),r(32),r(5));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={data:function(){return{selectedBooru:"<All Boorus>",currentPage:0,searchResults:[],searchActiveTags:[]}},head:function(){return{title:"Saved posts",meta:[{hid:"description",name:"description",content:"Save posts for later."}]}},computed:d(d({},Object(c.c)("user",["getSavedPosts","getUserSettings"])),{},{boorusThatHaveSavedPosts:function(){var e=this.getSavedPosts.map((function(e){return e.meta_data.booru_domain})),t=Object(n.a)(new Set(e)).sort();return[{name:"Default",domains:["<All Boorus>"].concat(Object(n.a)(t))}]},savedPostsFromSelectedBooru:function(){var e=this;return"<All Boorus>"===this.selectedBooru?JSON.parse(JSON.stringify(this.getSavedPosts)):this.getSavedPosts.filter((function(t){return t.meta_data.booru_domain===e.selectedBooru}))},processedSavedPosts:function(){var e=this.savedPostsFromSelectedBooru,t=this.filterPostsBySearchActiveTags(e),r=this.sortPostsByDate(t);return this.paginatePosts(r)}}),methods:{sortPostsByDate:function(e){return e.sort((function(e,t){var r=e.meta_data.created_at,n=t.meta_data.created_at;return new Date(n)-new Date(r)}))},filterPostsBySearchActiveTags:function(e){var t=this;return 0===this.searchActiveTags.length?e:e.filter((function(e){return t.searchActiveTags.every((function(t){var r=[];return Object.keys(e.data.tags).forEach((function(t){var o=e.data.tags[t];r=Object(n.a)(new Set([].concat(Object(n.a)(r),Object(n.a)(o))))})),r.includes(t)}))}))},paginatePosts:function(e){var t,r,n=this.getUserSettings.postsPerPage.value,o=this.currentPage;return t=n,r=o,e.slice(r*t,r*t+t)},resetSearchResults:function(){this.searchResults=[]},resetActiveTags:function(){this.searchActiveTags=[]},resetCurrentPage:function(){this.currentPage=0,this.scrollToTop()},onDomainChange:function(e){this.selectedBooru=e,this.resetCurrentPage(),this.resetSearchResults(),this.resetActiveTags()},onPageChange:function(e){this.currentPage=e,this.scrollToTop()},onPostTagSelected:function(e){this.onSubmitActiveTags([e])},onSearch:function(e){var t=Object(n.a)(new Set(this.savedPostsFromSelectedBooru.map((function(e){var t=[];return Object.keys(e.data.tags).forEach((function(r){var o=e.data.tags[r];t=[].concat(Object(n.a)(t),Object(n.a)(o))})),t})).flat())).map((function(e){return{id:e,name:e,count:null}}));e=e.toLowerCase();var r=t.filter((function(t){return t.name.toLowerCase().includes(e)}));this.searchResults=r},onSubmitActiveTags:function(e){this.searchActiveTags=e,this.resetCurrentPage()},scrollToTop:function(){window.scrollTo(0,0)}}},v=r(10),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;return t("main",{staticClass:"flex flex-col max-w-3xl min-h-screen p-4 mx-auto sm:p-6 lg:p-8"},[t("portal",{attrs:{to:"side-nav-area"}},[t("SearchToggler",{attrs:{"tag-count":e.searchActiveTags.length}})],1),e._v(" "),t("portal",{attrs:{to:"search"}},[t("SearchWrapper",[t("Search",{attrs:{"initial-active-tags":e.searchActiveTags,"search-results":e.searchResults},on:{search:e.onSearch,"reset-search-results":e.resetSearchResults,"submit-active-tags":e.onSubmitActiveTags}})],1)],1),e._v(" "),t("ContentSeparator",{attrs:{title:"Saved posts"}}),e._v(" "),t("nav",{staticClass:"flex flex-row items-center justify-between py-4"},[t("DomainSelector",{attrs:{"active-domain":e.selectedBooru,"domain-group-list":e.boorusThatHaveSavedPosts},on:{domainChange:e.onDomainChange}})],1),e._v(" "),t("ul",{staticClass:"pb-4 space-y-4"},[e.processedSavedPosts.length?e._l(e.processedSavedPosts,(function(r){return t("li",{key:r.id},[t("Post",{attrs:{"event-only":!0,post:r},on:{"tag-selected":e.onPostTagSelected}})],1)})):[t("li",{staticClass:"my-3 text-center text-gray-300"},[e._v("\n        There are no saved posts. Go save some!\n      ")])]],2),e._v(" "),t("PostsControls",{attrs:{"current-page":e.currentPage,"force-normal-controls":!0,"minimum-page":0},on:{setPage:e.onPageChange}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SearchToggler:r(281).default,Search:r(291).default,SearchWrapper:r(282).default,ContentSeparator:r(270).default,DomainSelector:r(283).default,Post:r(293).default,PostsControls:r(280).default})}}]);