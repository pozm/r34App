(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{279:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(78),o=n(79),c=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"proxyUrl",value:function(e){return window.$nuxt.$config.PROXY_URL+encodeURIComponent(e)}}]),e}()},295:function(e,t,n){"use strict";n.r(t);n(13),n(12),n(11),n(22),n(23);var r=n(3),o=n(4),c=(n(100),n(26),n(5)),l=n(134),d=n(279);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{DownloadIcon:l.e},props:{mediaName:{type:String,required:!0},mediaUrl:{type:String,required:!0}},computed:f({},Object(c.c)("premium",["isUserPremium"])),methods:f(f({},Object(c.b)(["simpleFetch"])),{},{downloadBlobToDevice:function(e,t){var n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.target="_blank",r.download=t,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},fetchUrlIntoBlob:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.a.proxyUrl(e.mediaUrl),t.next=3,e.simpleFetch({url:n,options:{responseType:"blob"}});case 3:return r=t.sent,o=r.data,t.abrupt("return",{RESPONSE:r,RESPONSE_BLOB:o});case 6:case"end":return t.stop()}}),t)})))()},downloadMedia:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchUrlIntoBlob();case 3:n=t.sent,r=n.RESPONSE,o=n.RESPONSE_BLOB,c=r.headers["content-type"].split("/")[1],l=e.mediaName+"."+c,e.downloadBlobToDevice(o,l),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e.$toast.error('Could not download post: "'.concat(t.t0.message,'"'));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}})},w=n(10),component=Object(w.a)(O,(function(){var e=this,t=e._self._c;return t("div",[e.isUserPremium?[t("button",{staticClass:"flex items-center gap-2 my-2 link",attrs:{type:"button"},on:{click:e.downloadMedia}},[t("DownloadIcon",{staticClass:"w-5 h-5 icon"}),e._v("\n\n      Download\n    ")],1)]:[t("NuxtLink",{staticClass:"flex items-center gap-2 my-2 link",attrs:{to:"/premium"}},[t("DownloadIcon",{staticClass:"w-5 h-5 icon"}),e._v("\n\n      Download\n    ")],1)]],2)}),[],!1,null,null,null);t.default=component.exports}}]);